[gd_scene load_steps=7 format=3 uid="uid://dqg5ary8cfhp8"]

[ext_resource type="Script" path="res://scripts/tree.gd" id="1_4cr48"]
[ext_resource type="PackedScene" uid="uid://s2nuj6id8q4s" path="res://objects/limb.tscn" id="2_5gweh"]
[ext_resource type="Material" uid="uid://ch0ivxloqvypu" path="res://meshes/helper.material" id="4_yg7ih"]

[sub_resource type="BoxMesh" id="BoxMesh_ojta3"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="BoxMesh" id="BoxMesh_wyfdc"]
material = ExtResource("4_yg7ih")

[sub_resource type="GDScript" id="GDScript_y1aox"]
resource_name = "camera_helper"
script/source = "extends Camera3D
@export var cam_distance = 10
@onready var target_node: Node3D = get_parent()



func _ready():
	
	var target_pos: Vector3 = target_node.global_transform.origin
	
	#var target_pos = Vector3.ZERO
	
	var camera_pos = target_pos + (Vector3.UP + Vector3.BACK * sqrt(2) + Vector3.RIGHT) * cam_distance
	look_at_from_position(camera_pos, target_pos, Vector3.UP)
	


func _physics_process(delta):
	
	size += Input.get_axis(\"move_forward\", \"move_back\")
	
	transform = transform.rotated(Vector3.UP, delta * Input.get_axis(\"move_left\", \"move_right\"))
	
	
"

[node name="Tree" type="Node3D"]
script = ExtResource("1_4cr48")
leaf_mesh = SubResource("BoxMesh_ojta3")
limb_scene = ExtResource("2_5gweh")

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]

[node name="TreeRootHelper" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.2532, 1, 13.7411)
mesh = SubResource("BoxMesh_wyfdc")

[node name="CameraHelper" type="Camera3D" parent="TreeRootHelper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.2532, -1, -13.7411)
projection = 1
size = 20.0
script = SubResource("GDScript_y1aox")
cam_distance = 20
